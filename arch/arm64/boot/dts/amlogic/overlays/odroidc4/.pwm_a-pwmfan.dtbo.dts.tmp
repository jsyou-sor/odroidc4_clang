# 1 "arch/arm64/boot/dts/amlogic/overlays/odroidc4/pwm_a-pwmfan.dts"
# 1 "<built-in>" 1
# 1 "arch/arm64/boot/dts/amlogic/overlays/odroidc4/pwm_a-pwmfan.dts" 2
/dts-v1/;
/plugin/;


# 1 "./arch/arm64/boot/dts/include/dt-bindings/thermal/thermal.h" 1
# 5 "arch/arm64/boot/dts/amlogic/overlays/odroidc4/pwm_a-pwmfan.dts" 2
# 1 "./arch/arm64/boot/dts/include/dt-bindings/pwm/meson.h" 1
# 6 "arch/arm64/boot/dts/amlogic/overlays/odroidc4/pwm_a-pwmfan.dts" 2
# 1 "./arch/arm64/boot/dts/include/dt-bindings/pwm/pwm.h" 1
# 7 "arch/arm64/boot/dts/amlogic/overlays/odroidc4/pwm_a-pwmfan.dts" 2

/{
 fragment@0 {


  target = <&pwm_ab>;

  __overlay__ {
   status = "okay";
   pinctrl-names = "pwm_pins";
   pinctrl-0 = <&pwm_a_pins &pwm_b_pins2>;
  };
 };

 fragment@1 {
  target-path = "/";

  __overlay__ {
   pwmcfan: pwm_c-fan {
    compatible = "pwm-fan";
    status = "okay";
    #cooling-cells = <2>;
    cooling-levels = <0 128 180 240>;
    pwms = <&pwm_ab 0 40000 0>;
   };
  };
 };

 fragment@2 {
  target = <&soc_thermal>;

  __overlay__ {
   trips {
    pwmc_fan_low: trip-point@7 {
     temperature = <65000>;
     hysteresis = <5000>;
     type = "active";
    };
    pwmc_fan_mid: trip-point@8 {
     temperature = <75000>;
     hysteresis = <5000>;
     type = "active";
    };
    pwmc_fan_high: trip-point@9 {
     temperature = <90000>;
     hysteresis = <5000>;
     type = "active";
    };
   };
   cooling-maps {
    pwmc_fan_cooling_map0 {
     trip = <&pwmc_fan_low>;
     cooling-device = <&pwmcfan (~0) 1>;
     contribution = <1024>;
    };
    pwmc_fan_cooling_map1 {
     trip = <&pwmc_fan_mid>;
     cooling-device = <&pwmcfan (~0) 2>;
     contribution = <1024>;
    };
    pwmc_fan_cooling_map2 {
     trip = <&pwmc_fan_high>;
     cooling-device = <&pwmcfan 3 (~0)>;
     contribution = <1024>;
    };
   };
  };
 };
};
